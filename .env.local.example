# ===========================================
# KM Boards — Environment Variables
# ===========================================
# Copy this file to .env.local and fill in values.
# Lines starting with # are comments.
# Variables prefixed NEXT_PUBLIC_ are exposed to the browser.

# --- Supabase ---
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# --- Encryption ---
# 32-byte hex key for encrypting stored API credentials (e.g. AI keys)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CREDENTIALS_ENCRYPTION_KEY=your-64-char-hex-string

# --- Email (Resend) ---
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=noreply@yourdomain.com

# --- Web Push (VAPID) ---
# Generate a VAPID key pair: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:your-email@example.com
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key

# --- Cron Security ---
# Bearer token to protect /api/cron/* endpoints from unauthorized access
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=your-cron-secret

# --- AWS S3 (Large File Storage) ---
# Used for attachments >50MB (Supabase free tier limit)
# Create a bucket in AWS S3, then create an IAM user with S3 access
AWS_S3_ACCESS_KEY_ID=your-aws-access-key-id
AWS_S3_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=your-bucket-name
AWS_S3_REGION=us-east-1

# --- AI / Browser Automation ---
# Browserless.io API key for headless browser (Lighthouse, visual diff, video frames)
BROWSERLESS_API_KEY=your-browserless-api-key

# Scrapling stealth scraping microservice (Python sidecar, anti-bot bypass)
# Runs on VPS as a systemd service. Set to your VPS IP:port.
# SCRAPLING_SERVICE_URL=http://YOUR_VPS_IP:8099

# --- AI API Keys (optional — managed via Settings > AI Configuration) ---
# These are stored encrypted in the database via the UI.
# You do NOT need to set them here unless bypassing the UI.
# ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# GOOGLE_AI_API_KEY=...
